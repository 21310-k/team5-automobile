H8S,H8/300 SERIES C/C++ COMPILER (V.6.02.01.000)   28-Jan-2025 15:00:39 PAGE   1

************ SOURCE LISTING ************

      Line Pi 0----+----1----+----2----+----3----+----4----+----5----+----6----+----7----+----8----+----9----+----0----+----1----+--
FILE NAME: C:\Users\s4exp\Downloads\soft2_test\soft2\soft2\soft2\Soft2\sbrk.c
         1     /***********************************************************************/
         2     /*                                                                     */
         3     /*  FILE        :sbrk.c                                                */
         4     /*  DATE        :Sat, Jun 26, 2010                                     */
         5     /*  DESCRIPTION :Program of sbrk                                       */
         6     /*  CPU TYPE    :H8/3052F                                              */
         7     /*                                                                     */
         8     /*  This file is generated by Renesas Project Generator (Ver.4.9).     */
         9     /*                                                                     */
        10     /***********************************************************************/
        11                       
        12     
        13     
        14     #include <stdio.h>
        15     #include "typedefine.h"
        16     #include "sbrk.h"
        17     _SBYTE *sbrk(size_t);
        18     
        19     //const size_t _sbrk_size=              /* Specifies the minimum unit of */
        20                                             /* the defined heap area         */
        21     
        22     #pragma pack 2
        23     static union {
        24         _SWORD  dummy;                      /* 2バイト境界にするためのダミー */
        25         _SBYTE  heap[HEAPSIZE];             /* sbrkで管理する領域の宣言      */
        26     } heap_area;
        27     #pragma unpack
        28     
        29     static _SBYTE *brk=(_SBYTE *)&heap_area;  /* sbrkで割り付けた領域の最終アドレス */
        30     
        31     /*****************************************************************************/
        32     /*  sbrk:データの書き出し                                                    */
        33     /*       リターン値：割り付けた領域の先頭アドレス（成功）                    */
        34     /*                   -1                          （失敗）                    */
        35     /*****************************************************************************/
        36     extern _SBYTE *sbrk(size_t size)              /* 割り付ける領域のサイズ */
        37     {
        38         _SBYTE  *p;
        39         if(brk+size > heap_area.heap+HEAPSIZE){   /* 空き領域のチェック */
        40             p = (_SBYTE *)-1;
        41         }
        42         else {
        43             p = brk;                              /* 領域の割り付け     */
        44             brk += size;                          /* 最終アドレスの更新 */
        45         }
        46     
        47         return p;
        48     }


H8S,H8/300 SERIES C/C++ COMPILER (V.6.02.01.000)   28-Jan-2025 15:00:39 PAGE   1

******* SECTION SIZE INFORMATION *******

PROGRAM  SECTION(P):                                0x00000032 Byte(s)
CONSTANT SECTION(C):                                0x00000000 Byte(s)
DATA     SECTION(D):                                0x00000004 Byte(s)
BSS      SECTION(B):                                0x00000420 Byte(s)

TOTAL PROGRAM  SECTION: 0x00000032 Byte(s)
TOTAL CONSTANT SECTION: 0x00000000 Byte(s)
TOTAL DATA     SECTION: 0x00000004 Byte(s)
TOTAL BSS      SECTION: 0x00000420 Byte(s)

    TOTAL PROGRAM SIZE: 0x00000456 Byte(s)



** ASSEMBLER/LINKAGE EDITOR LIMITS INFORMATION **

NUMBER OF EXTERNAL REFERENCE  SYMBOLS:        2 
NUMBER OF EXTERNAL DEFINITION SYMBOLS:        1 
NUMBER OF INTERNAL/EXTERNAL SYMBOLS:          7 



**** COMPILE CONDITION INFORMATION ****

COMMAND LINE: -cpu=300HA:20 -object=C:\Users\s4exp\Downloads\soft2_test\soft2\soft2\soft2\Soft2\Debug\sbrk.obj -debug -list=C:\Users\s4exp\Downloads\soft2_test\soft2\soft2\soft2\Soft2\Debug\sbrk.lst -show=tab=4 -chgincpath C:\Users\s4exp\Downloads\soft2_test\soft2\soft2\soft2\Soft2\sbrk.c -lang=c -nologo
CPU         : 300ha:20
